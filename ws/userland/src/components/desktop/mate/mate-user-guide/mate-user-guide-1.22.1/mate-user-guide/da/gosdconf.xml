<?xml version="1.0" encoding="utf-8"?>
<?db.chunk.max_depth 3?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.0" xml:id="mate-dconf" xml:lang="da">
    <info><title>Gemte skrivebordsindstillinger</title></info>

  <highlights>
    <para>Dette afsnit beskriver hvordan dine MATE-skrivebordsindstillinger er gemt, og hvordan du henter og ændrer dem via kommandolinjeværktøjerne <command>dconf</command> eller <command>gsettings</command>, eller GUI-programmet <application>Dconf Editor</application>.</para>
  </highlights>

  <section xml:id="mate-dconf-intro"><info><title>Indledning</title></info>
    <para>Indstillingerne for dit MATE-skrivebord håndteres og gemmes af <application>dconf</application>, som er et nøglebaseret konfigurationssystem til konfigurationer af udstyr og programmer.</para>

    <para><application>dconf</application> bruger flere databasefiler i det binære format GVDB, en database per fil. En dconf-profil består af en enkel fil, i et rent tekstformat, som indeholder en liste over databasefiler i GVDB-format. Alle dconf-profiler gemmes i mappen <filename class="directory">/etc/dconf/profile</filename>.</para>
    <para>I de fleste systemer er der ingen dconf-profil, da de kun bruger standarddatabasen, user.db som er gemt i ~/.config/dconf/user. I sådanne tilfælde, er der ingen systemudbredte indstillinger, d.v.s. brugere har bare deres egne indstillinger.</para>
    <para>Eksempel på indhold for brugerprofilen (/etc/dconf/profile/brugerfil):</para>

<literallayout>user-db: user
system-db: local
system-db: site
system-db: distro</literallayout>

    <para>Den forrige dconf-profil indeholder 4 GVDB-filer, en per linje.</para>

    <itemizedlist>
      <listitem>
        <para><database class="name">user</database> er navnet på brugerens databaser. De er normalt placeret i mappen <filename class="directory">~/.config/dconf</filename></para>
      </listitem>
      <listitem>
        <para><database class="name">local</database>, <database class="name">site</database> og <database class="name">distro</database> er systemdatabaser. De er normalt placeret i mappen <filename class="directory">/etc/dconf/db</filename></para>
      </listitem>
    </itemizedlist>

    <para>Hver af disse databaser lagrer nøgle-værdi par via en datastruktur for hash-oversættelsen, som kan oversætte strengnøgler til GVariant-værdier på en måde, der er ekstremt effektivt til opslag. Opslagspræferencerne bestemmes af rækkefølgen i dconf-profilfilen, brugernes databaser har den højeste præferencer i det forrige dconf-profileksempel. Nøglerne fra flere konfigurationskilder sameksisterer i en logisk træstruktur. MATE-skrivebordets nøgle-værdi hashoversættelseselementer  er under den /org/mate-logiske knude, som normalt lagres i brugernes databaser.</para>

    <note>
      <para>Se <link xlink:href="man:dconf(7)"><citerefentry><refentrytitle>dconf</refentrytitle><manvolnum>7</manvolnum></citerefentry></link> for yderligere information om dconfs konfigurationssystem.</para>
    </note>

  <section xml:id="mate-dconf-one-read"><info><title>For at læse værdien af en dconf-nøgle</title></info>
    

    <para>Værdien af en dconf-nøgle kan læses via kommandolinjeværktøjerne <command>dconf</command> eller  <command>gsettings</command>, eller det grafiske program <application>Dconf Editor</application>.</para>

    <para>Dette afsnit viser hvordan du læser baggrundsbilledet på dit MATE-skrivebord, denne værdi lagres i dconf-nøglen:</para>
    <itemizedlist>
      <listitem>
        <para>/org/mate/desktop/background/picture-filename</para>
      </listitem>
    </itemizedlist>

    <para>Den følgende figur viser den fulde sti til denne dconf-nøgle. Bemærk at de andre mapper ikke er blevet udvidet, eller de er blevet fjernet, og der vises kun nøglerne for dconf-mappen:</para>

    <itemizedlist>
      <listitem>
        <para>/org/mate/desktop/background/</para>
      </listitem>
    </itemizedlist>

    <figure xml:id="dconf-logical-full-bakgroud-keys-fig"><info><title>/org/mate/desktop/background/ dconf directory</title></info>
       
      <mediaobject><imageobject> <imagedata fileref="figures/org_mate_desktop_background_logical_view.png" format="PNG"/> </imageobject> <textobject> <phrase>Figur der viser indholdet af dconf-mappen /org/mate/desktop/background/</phrase> </textobject></mediaobject>
    </figure>

    <para>Du kan læse værdien af en dconf-nøgle:</para>

    <section xml:id="read-key-dconf-using-dconf-editor"><info><title>Brug af det grafiske brugerfladeprogram dconf-editor</title></info>
      
      <para>For at vise værdien af en dconf-nøgle via programmet <application>Dconf Editor</application>, udfør de følgende trin:</para>
      <orderedlist>
        <listitem>
          <para>Vælg <menuchoice><guimenu>Programmer</guimenu><guimenuitem>Systemværktøjer</guimenuitem><guimenuitem>dconf Editor</guimenuitem></menuchoice> fra toppanelet.</para>
        </listitem>
        <listitem>
          <para>Klik på mapperne for at få den fulde sti til dconf-mappen.</para>
        </listitem>
      </orderedlist>

      <figure><info><title>Dconf-Editor viser værdien for nøglen /org/mate/desktop/background/picture-filename</title></info>
        
        <screenshot>
          <mediaobject><imageobject> <imagedata fileref="figures/picture_filename_dconf_key_view.png" format="PNG"/> </imageobject> <textobject> <phrase>Dconf-Editor viser værdien for nøglen /org/mate/desktop/background/picture-filename</phrase> </textobject></mediaobject>
        </screenshot>
      </figure>
    </section>

    <section xml:id="read-key-dconf-using-dconf"><info><title>Brug af kommandolinjeværktøjet dconf</title></info>
      
      <para>For at læse værdien af en dconf-nøgle via kommandolinjeværktøjet <command>dconf</command>, kør den følgende kommando:</para>
      <screen>$ dconf read /org/mate/desktop/background/picture-filename
'/usr/share/backgrounds/mate/desktop/MATE-Stripes-Dark.png'</screen>
      <para>Synopsis:</para>
      <synopsis>dconf read [-d] NØGLE</synopsis>
      <para>Se <link xlink:href="man:dconf"><citerefentry><refentrytitle>dconf</refentrytitle><manvolnum>1</manvolnum></citerefentry></link> for yderligere information om hvordan kommandolinjeværktøjet <command>dconf</command> bruges.</para>
      <tip><para>Du kan bruge tasten <keycap>Indryk</keycap> til automatisk at fuldføre stien til dconf-nøglen.</para></tip>
    </section>

    <section xml:id="read-key-dconf-using-gsettings"><info><title>Brug af kommandolinjeværktøjet gsettings</title></info>
      
      <para>For at læse værdien af en dconf-nøgle via kommandolinjeværktøjet <command>gsettings</command>, kør den følgende kommando:</para>
      <screen>$ gsettings get org.mate.background picture-filename
'/usr/share/backgrounds/mate/desktop/MATE-Stripes-Dark.png'</screen>
      <para>Synopsis:</para>
      <synopsis>gsettings [--schemadir SCHEMADIR] get SCHEMA[:PATH] KEY</synopsis>
      <para>Se <link xlink:href="man:gsettings"><citerefentry><refentrytitle>gsettings</refentrytitle><manvolnum>1</manvolnum></citerefentry></link> for yderligere information om hvordan kommandolinjeværktøjet <command>gsettings</command> skal bruges.</para>
    </section>
  </section>

  <section xml:id="mate-dconf-one-change"><info><title>For at ændre værdien af en dconf-nøgle</title></info>
    

    <para>Værdien af en dconf-nøgle kan ændres via kommandoen <command>dconf</command> eller programmet <application>Dconf Editor</application>.</para>
    <para>Dette afsnit viser hvordan du ændrer baggrundsbilledet på dit MATE-skrivebord, denne værdi lagres i dconf-nøglen:</para>
    <itemizedlist>
      <listitem>
        <para>/org/mate/desktop/background/picture-filename</para>
      </listitem>
    </itemizedlist>

    <para>Den følgende figur viser den fulde sti til denne dconf-nøgle. Bemærk at de andre mapper ikke er blevet udvidet, eller de er blevet fjernet, og der vises kun nøglerne for dconf-mappen:</para>
    <itemizedlist>
      <listitem>
        <para>/org/mate/desktop/background/</para>
      </listitem>
    </itemizedlist>

    <figure xml:id="dconf-logical-short-bakgroud-keys-fig"><info><title>/org/mate/desktop/background/ dconf directory</title></info>
      
      <mediaobject><imageobject> <imagedata fileref="figures/org_mate_desktop_background_only_logical_view.png" format="PNG"/> </imageobject> <textobject> <phrase>Figur der viser indholdet af dconf-mappen /org/mate/desktop/background/</phrase> </textobject></mediaobject>
    </figure>

    <para>Du kan ændre værdien af en dconf-nøgle:</para>

    <section xml:id="modify-key-dconf-using-dconf-editor"><info><title>Brug af det grafiske brugerfladeprogram dconf-editor</title></info>
      
      <para>For at redigere baggrundsbilledet for dit MATE-skrivebord i <application>Dconf Editor</application>, udfør de følgende trin:</para>

      <orderedlist>
        <listitem>
            <para>Vælg <menuchoice><guimenu>Programmer</guimenu><guimenuitem>Systemværktøjer</guimenuitem><guimenuitem>dconf Editor</guimenuitem></menuchoice> fra toppanelet.</para>
        </listitem>
        <listitem>
          <para>Klik på mapperne for at få den fuldt sti til dconf-mappen og klik så på dconf-nøglen for at redigere dens værdi.</para>
        </listitem>
        <listitem>
           <para>Indtast den nye værdi i tekstboksen <guilabel>Tilpasset værdi</guilabel>.</para>
        </listitem>
        <listitem>
           <para>Klik på knappen til afkrydsning for at anvende ændringen.</para>
        </listitem>
      </orderedlist>

      <figure><info><title>Redigering af værdien på nøglen /org/mate/desktop/background/picture-filename i Dconf-Editor-dialogen</title></info>
        
        <screenshot>
          <mediaobject><imageobject> <imagedata fileref="figures/picture_filename_dconf_key_edit.png" format="PNG"/> </imageobject> <textobject> <phrase>Redigering af værdien på nøglen /org/mate/desktop/background/picture-filename i Dconf-Editor-dialogen</phrase> </textobject></mediaobject>
        </screenshot>
      </figure>
    </section>

    <section xml:id="modify-key-dconf-using-dconf"><info><title>Brug af kommandolinjeværktøjet dconf</title></info>
      
      <para>For at ændre baggrundsbilledet i MATE-skrivebordet køres den følgende kommando:</para>
      <screen>$ dconf write /org/mate/desktop/background/picture-filename \
"'/usr/share/backgrounds/mate/desktop/MATE-Stripes-Light.png'"</screen>
      <para>Synopsis:</para>
      <synopsis>dconf write NØGLEVÆRDI</synopsis>
      <para>Se <link xlink:href="man:dconf"><citerefentry><refentrytitle>dconf</refentrytitle><manvolnum>1</manvolnum></citerefentry></link> for yderligere information om hvordan kommandolinjeværktøjet <command>dconf</command> bruges.</para>
    </section>

    <section xml:id="modify-key-dconf-using-gsettings"><info><title>Brug af kommandolinjeværktøjet gsettings</title></info>
      
      <para>For at ændre baggrundsbilledet i MATE-skrivebordet køres den følgende kommando:</para>
      <screen>$ gsettings set org.mate.background picture-filename \
"'/usr/share/backgrounds/mate/desktop/MATE-Stripes-Light.png'"</screen>
      <para>Synopsis:</para>
      <synopsis>gsettings [--schemadir SCHEMADIR] set SCHEMA[:PATH] KEY VALUE</synopsis>
      <para>Se <link xlink:href="man:gsettings"><citerefentry><refentrytitle>gsettings</refentrytitle><manvolnum>1</manvolnum></citerefentry></link> for yderligere information om hvordan <command>dconf</command> bruges.</para>
    </section>
  </section>

  <section xml:id="mate-dconf-some-changes"><info><title>For at ændre værdien af flere dconf-nøgler</title></info>
    

    <para>For at ændre værdien af flere dconf-nøgler på samme tid, udfør de følgende trin:</para>
    <orderedlist>
      <listitem>
        <para>Dump indholdet af en dconf-mappe til en ny ren tekst-fil:</para>
        <screen>$ dconf dump /org/mate/desktop/background/ &gt; file.dconf</screen>
      </listitem>
      <listitem>
        <para>Lav ændringer i tekstfilen</para>
<literallayout>[/]
color-shading-type='vertical-gradient'
primary-color='rgb(88,145,188)'
picture-options='zoom'
picture-filename='/usr/share/backgrounds/mate/desktop/MATE-Stripes-Light.png'
secondary-color='rgb(60,143,37)'
</literallayout>
      </listitem>
      <listitem>
        <para>Indlæs indholdet af tekstfilen til en dconf-mappe</para>
        <screen>$ dconf load /org/mate/desktop/background/ &lt; file.dconf</screen>
      </listitem>
    </orderedlist>
    <tip><para>Du kan også dumpe/indlæse flere mapper på samem tid, f.eks. for at lave sikkerhedskopier og gendanne alle konfigurationer i dit MATE-skrivebord:</para>
        <screen>$ dconf dump /org/mate/ &gt; backup.dconf
$ dconf load /org/mate/ &lt; backup.dconf</screen>
    </tip>

    <para>Se <link xlink:href="man:dconf"><citerefentry><refentrytitle>dconf</refentrytitle><manvolnum>1</manvolnum></citerefentry></link> for yderligere information om hvordan kommandolinjeværktøjet <command>dconf</command> bruges.</para>

  </section>

  </section>

  <xi:include href="gosdconfkeys.xml"/>   <!-- List of dconf keys -->

</chapter>
